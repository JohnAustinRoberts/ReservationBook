<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Reservation Book</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

  <style>

  .jumbotron {
    text-align: center;
  }
  

  </style>

</head>
<body>

  <div class="container">
    <div class="jumbotron">
      <h1>Reservation Book</h1>
      <h3>List of reservations</h3>
      <hr>
      <a href="./reservations.html">
      <button type="button" class="btn btn-danger btn-lg"><span class="glyphicon glyphicon-plus"></span>Add Reservation</button>
      </a>
      <a href='./index.html'>
      <button type="button" class="btn btn-lg btn-default"><span class="glyphicon glyphicon-home"></span>Home</button>
      </a>
    </div>

        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title"><strong>Reservations</strong></h3>
          </div>
          <div class="panel-body">
            <div class="well">
              <h2 id="name">Tim</h2>
              <div id="Reservations">
                <h3><strong>Phone Number:</strong> <span id="phoneNumber">732-808-7791</span></h3>
                <h3><strong>Email:</strong> <span id="email">TimTim@gmail.com</span></h3>
                <h3><strong>Unique Id:</strong> <span id="uniqueId">3</span></h3>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
   
  $(".submit").on("click", function(){

    // Here we grab the form elements
    var newReservation = {
      customerName: $('#reserve_name').val().trim(),
      phoneNumber: $('#reserve_phone').val().trim(),
      customerEmail: $('#reserve_email').val().trim(),
      customerID: $('#reserve_Id').val().trim()
    };

    console.log(newReservation);

    var currentURL = window.location.origin;

      $.post(currentURL + "/api/new", newReservation,
      function(data){

        // If a table is available... tell user they are booked.
        if(data == true){
          alert("Yay! You are officially booked!")
        }

        // If a table is available... tell user they on the waiting list.
        if(data == false){
          alert("Sorry you are on the wait list")
        }

        // Clear the form when submitting
        $('#reserve_name').val("");
      $('#reserve_phone').val("");
      $('#reserve_email').val("");
      $('#reserve_Id').val("");

      });

return false;

});


  </script>
    
</body>
</html>